<div class="property-container">
  <div *ngFor="let property of properties" class="property-item" (click)="viewPropertyDetails(property.propertyID)">
    <div class="property-image-container">
      <img *ngIf="property.photos && property.photos.length > 0 && property.photos[0] !== ''" [src]="property.photos[0]" alt="Property Image" class="property-image">
      <mat-icon *ngIf="!property.photos || property.photos.length === 0 || property.photos[0] === ''" class="property-icon">image_not_supported</mat-icon>
    </div>
    <div class="property-content">
      <p class="property-price">{{ formatPrice(property.price) }}
        <span class="property-price-per-sqm">({{ calculatePricePerSqm(property.price, property.size) }} Ft / m²)</span>
      </p>
      <p class="property-address">{{ property.address }}</p>
      <div class="property-details">
        <p><strong>Alapterület:</strong> {{ property.size }} m²</p>
        <p><strong>Hálószobák száma:</strong> {{ property.features.numberOfRooms }}</p>
      </div>
    </div>
    <button mat-icon-button class="favorite-button" (click)="$event.stopPropagation(); addToFavorites(property.propertyID)">
      <mat-icon>{{ isFavorite(property.propertyID) ? 'star' : 'star_border' }}</mat-icon>
    </button>
  </div>
</div>
